<div class="content-wrapper">
  <section class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1>Usuários</h1>
        </div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item">
              <a routerLink="/sis/Inicio">Início</a>
            </li>
            <li class="breadcrumb-item active">Usuários</li>
          </ol>
        </div>
      </div>
    </div>
  </section>

  <section class="content">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">
          <button
            data-bs-toggle="modal"
            data-bs-target="#modalcad"
            class="btn btn-outline-primary"
          >
            <i class="nav-icon fa fa-plus"></i>
          </button>
        </h3>
      </div>
      <div class="card-body p-2">
        <table
          datatable
          [dtOptions]="dtOptions"
          [dtTrigger]="dtTrigger"
          class="table table-hover text-nowrap"
        >
          <thead>
            <tr>
              <th>#</th>
              <th>Nome</th>
              <th>CPF</th>
              <th>Telefone 1</th>
              <th>E-mail</th>
              <th>Opções</th>
            </tr>
          </thead>
          <!-- -->
          <tbody *ngIf="data$ | async as data; else loading">
            <tr *ngFor="let row of data">
              <td>{{ row.id }}</td>
              <td>{{ row.nome }}</td>
              <td>{{ row.cpf }}</td>
              <td>{{ row.telefone1 }}</td>
              <td>{{ row.email }}</td>
              <td>
                <i
                data-bs-toggle="modal"
                data-bs-target="#modalcad"
                  class="fas fa-edit text-primary point"
                  aria-hidden="true"
                ></i>
                <i
                  class="fas fa-trash text-danger point ml-2"
                  aria-hidden="true"
                ></i>
              </td>
            </tr>
          </tbody>
        </table>
        <ng-template #loading>
          <tbody class="text-center">
            <tr>
              <td colspan="100%">
                <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
              </td>
            </tr>
          </tbody>
        </ng-template>
      </div>
    </div>

    <div class="modal fade" id="modalcad" aria-hidden="true">
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Cadastrar</h4>
            <button
              type="button"
              class="close"
              data-bs-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">
              <app-formulario-usuarios></app-formulario-usuarios>
          </div>
          <div class="modal-footer justify-content-between">
            <button
              type="button"
              class="btn btn-default"
              data-bs-dismiss="modal"
            >
              Fechar
            </button>
            <button type="button" class="btn btn-primary">Salvar</button>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
